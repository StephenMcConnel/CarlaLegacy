<html>
<head>
<title>How to Add a New Page to the PAWS Starter Kit</title>
<body style="background-color:#eeefff;">
<h1>How to Add a New Page to the PAWS Starter Kit</h1>
<ol type=A>
<li>In XMLSpy, create a new file.
<ol type=1>
<li>Assign it to the ..\XMLPageDescriptions\PAWSSKHtmlMapper.dtd DTD.</li>
<li>While in the Enhanced grid view, assign it to the ..\Templates\PAWSSKHtmlMapper.xsl XSL stylesheet.</li>
</ol>
<li>Insert elements per the Starter Kit documentation.</li>
<ul>
<li>Remember to include the level attribute on titles when it is a secondary level.</li>
<li>Use id attributes to identify instructions and radio groups which may need to be hidden.</li>
<li>Instructions can follow all radio groups within a form.</li>
<li>Remember to mark the OK button with the goto property for the next page to go to when the OK button is pressed.</li>
<li>Make a drawing of any hidden portions to make it easier to do the DisplayHidden code later on.</li>
</ul>
<li>Add the new material to the PAWSStarterKit.dtd and PAWSStarterKitNew.paw files:</li>
<ol type=1>
<li>Add the element(s) and any attributes to PAWSStarterKit.dtd and use XMLSpy to create PAWSStarterKit.xsd.
<li>Add the default set to PAWSStarterKitNew.paw.</li>
<li>Add the element and attribute names to the correct places in the ..\XMLPageDescriptions\xxx.xml file.
</ol>
<li>Test the ..\XMLPageDescriptions\xxx.xml file by using the browser view.</li>
<li>Save it in the ..\XMLPageDescriptions\ directory and
<ul>
<li>Add it to the VBDHTMLPageDescription XMLSpy folder.</li>
<li>Add it to the HTMLPageDescription XMLSpy folder.</li>
</ul>
<li>Save the html file in the HTMs directory:
<ol type=1>
<li>Select the file in the HTMLPageDescription XMLSpy folder.</li>
<li>Press F10 to create an html file.</li>
<li>Go to text view and change all instances of "Â" with "&amp;nbsp;".</li>
<li>Save the file in the HTMs directory (be sure to change its name).</li>
</ol>
<li>Create the draft code file:
<ol type=1>
<li>Select the file in the VBDHTMLPageDescription XMLSpy folder.</li>
<li>Press F10 to create the code draft file (ignore the beep and error message).</li>
<li>Select it all and copy it.</li>
</ol>
<li>Add the page to the control:</li>
<ol type=1>
<li>Start up VB (using Container\PAWSStarterKitGroup.vbg).</li>
<li>Add a designer page:</li>
<ol type=a>
<li>In the Project Group window, right click on Designers and select "Add", then DHTML Page.</li>
<li>Click on "Save HTML in an external file"</li>
<li>Click on the "Open" button and navigate to the ..\HTMs\xxx.htm file and open it.</li>
<li>Change the full path to a relative path: ..\HTMs\xxx.htm.</li>
<li>Click on OK</li>
</ol>
<li>In the properties dialog box:</li>
<ol type=1>
<li>Change the name to xxxDHTMLPage</li>
<li>Change the build file name to ..\Control\xxx.htm (<i>This prevents the original htm file from getting the &lt;object&gt; element placed in it which means you can still run the file in a regular browser without it having to deal with the control.</i>)</li>
<li>Change the id to xxxDHTMLPage</li>
</ol>
<li>In the project browser, click on the designer page (it probably is already selected), then click on the "View Code" button (upper left, just under "Project Group").
<li>Paste the code you copied from XmlSpy into the window.</li>
<li>Modify the code to load and save the correct XML values.</li>
<li>If this page has any hidden text, modify the DisplayHidden subroutine as appropriate.</li>
<li>Do a save all (Alt-F, Alt-V) and save the new file as "..\Control\xxxDHTMLPage.dsr", where xxx is the file name of the HTM file.  (It will probably default to this name.)</li>
<li>Note that the new pages will not take affect until you rebuild the control (Alt-F, Alt-K).</li>
</ol>
<li>Modify the ..\Templates\PAWSSKGrammarTextMapper.xsl file to include any PC-PATR rules needed for this page. (Cut and paste the rules from the ..\Design\starter3Work4Xsl.grm file.)</li>
<li>Add any code to handle the new page in ParameterizedExample.xsl</li>
<li>Test it:</li>
<ol>
<li>Add the new elements and attributes to your test data file (the lllStarterKit.paw one, where lll is your test language abbreviation).</li>
<li>While in VB, press F5.</li>
</ol>
<li>If you are adding a new section, make sure that the name of the initial htm file in the section matches what is in the Contents.htm file.</li>
</ol>
<div style="font-size:smaller; background-color:#fffccc;"><table>
<tr><td>Date Last Modified:</td><td>02-Mar-2001</td></tr>
<tr><td>Author:</td><td>H. Andrew Black</td></tr>
</table>
<address>
Address all questions to <a href="mailto:Andy_Black@sil.org">andy_black@sil.org</a>
</address>
</div></html>